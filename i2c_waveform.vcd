$date
	Sun Mar 16 22:02:30 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ns
$end
$scope module i2c_tb $end
$var wire 1 ! sda $end
$var wire 1 " scl $end
$var wire 8 # received_data [7:0] $end
$var wire 1 $ busy $end
$var reg 7 % addr [6:0] $end
$var reg 1 & clk $end
$var reg 8 ' data [7:0] $end
$var reg 1 ( rst $end
$var reg 1 ) rw $end
$var reg 1 * start $end
$scope module master $end
$var wire 7 + addr [6:0] $end
$var wire 1 & clk $end
$var wire 8 , data [7:0] $end
$var wire 1 ( rst $end
$var wire 1 ) rw $end
$var wire 1 ! sda $end
$var wire 1 * start $end
$var parameter 32 - ACK $end
$var parameter 32 . ADDRESS $end
$var parameter 32 / DATA $end
$var parameter 32 0 IDLE $end
$var parameter 32 1 START $end
$var parameter 32 2 STOP $end
$var reg 1 $ busy $end
$var reg 1 " scl $end
$var reg 1 3 sda_en $end
$var reg 1 4 sda_out $end
$var reg 8 5 shift_reg [7:0] $end
$var reg 4 6 state [3:0] $end
$upscope $end
$scope module slave $end
$var wire 1 & clk $end
$var wire 1 ( rst $end
$var wire 1 " scl $end
$var wire 1 ! sda $end
$var parameter 3 7 ACK_ADDRESS $end
$var parameter 3 8 ACK_DATA $end
$var parameter 3 9 ADDRESS_MATCH $end
$var parameter 3 : IDLE $end
$var parameter 3 ; RECEIVING $end
$var reg 1 < ack_out $end
$var reg 4 = bit_count [3:0] $end
$var reg 8 > data_out [7:0] $end
$var reg 8 ? received_data [7:0] $end
$var reg 1 @ sda_en $end
$var reg 1 A sda_out $end
$var reg 7 B slave_address [6:0] $end
$var reg 3 C state [2:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b11 ;
b0 :
b1 9
b100 8
b10 7
b101 2
b1 1
b0 0
b100 /
b10 .
b11 -
$end
#0
$dumpvars
b0 C
b1010001 B
xA
0@
b0 ?
b0 >
b0 =
0<
b0 6
bx 5
14
03
b0 ,
b1010001 +
0*
0)
1(
b0 '
0&
b1010001 %
0$
b0 #
1"
z!
$end
#10000000
1&
#20000000
0&
0(
#30000000
1&
#40000000
0&
#50000000
1&
#60000000
0&
#70000000
1$
b1 6
1&
1*
#80000000
0&
#90000000
0!
b10 6
13
04
1&
0*
#100000000
0&
#110000000
x!
b11 6
x4
b10100010 5
1&
#120000000
0&
#130000000
z!
b100 6
03
1&
#140000000
0&
#150000000
1!
b101 6
13
14
b0 5
1&
#160000000
0&
#170000000
z!
0$
b0 6
03
1&
#180000000
0&
#190000000
1&
#200000000
0&
#210000000
1&
#220000000
0&
#230000000
1&
#240000000
0&
#250000000
1&
#260000000
0&
#270000000
1&
